<!-- dashboard.html -->
{% extends "base.html" %}

{% block title %}Dashboard - Electrical Engineering Board Exam Quiz{% endblock %}

{% block content %}
    <h2>Dashboard</h2>
    <div class="dashboard-container">
        <div class="dashboard-card">
            <h3>Overall Statistics</h3>
            <p>Total Attempts: {{ total_attempts }}</p>
            <p>Average Score: {{ avg_score|round(2) * 10 }}%</p>
        </div>
        <div class="dashboard-card">
            <h3>Subject Performance</h3>
            {% for subject in subject_performance %}
                <p>{{ subject.subject }}: {{ subject.avg_score|round(2) * 10 }}% ({{ subject.attempts }} attempts)</p>
            {% endfor %}
        </div>
        <div class="dashboard-card">
            <h3>Recent Attempts</h3>
            {% for attempt in recent_attempts %}
                <p>{{ attempt.subject }} - Score: {{ attempt.score }}/{{ attempt.total_questions }} ({{ attempt.date.strftime('%Y-%m-%d %H:%M') }})</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}